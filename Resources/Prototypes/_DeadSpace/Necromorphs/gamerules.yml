- type: startingGear
  id: UnitologGear
  storage:
    back:
    - UplinkRadioUnitology

- type: startingGear
  id: UnitologLeaderGear
  storage:
    back:
    - UplinkRadioLeaderUnitology
    - Candle
    - Candle
    - Candle
    - CrayonBlack

- type: antag
  id: UniHead
  name: roles-antag-uni-head-name
  antagonist: true
  setPreference: true
  objective: roles-antag-uni-head-objective
  requirements:
    - !type:OverallPlaytimeRequirement
      time: 432000 # 120 hours
  guides: [ TheCircle ]

- type: antag
  id: Uni
  name: roles-antag-uni-name
  antagonist: true
  setPreference: false
  objective: roles-antag-uni-objective

- type: antag
  id: UniEnslaved
  name: roles-antag-uni-enslaved-name
  antagonist: true
  setPreference: false
  objective: roles-antag-uni-enslaved-objective

- type: entity
  parent: BaseGameRule
  id: Unitology
  components:
  - type: GameRule
    minPlayers: 40
  - type: AntagLoadProfileRule
    speciesOverride: Human
    speciesOverrideBlacklist:
    - IPC
    - Diona
    - Xenomorph
  - type: UnitologyRule
  - type: AntagObjectives
    objectives:
    - UniSubmissionObjective
    - UniInfectObjective
    - UniInvitationObjective
  - type: AntagSelection
    definitions:
    - prefRoles: [ UniHead ]
      fallbackRoles: [ Uni, UniEnslaved ]
      max: 3
      min: 3
      playerRatio: 10
      briefing:
        text: uni-head-role-greeting
        color: CornflowerBlue
        sound: "/Audio/_DeadSpace/Necromorfs/unitolog_start.ogg"
      startingGear: UnitologLeaderGear
      components:
      - type: IntrinsicRadioTransmitter
        channels:
        - Unitolog
      - type: ActiveRadio
        channels:
        - Unitolog
      - type: IntrinsicRadioReceiver
      - type: Unitology
      - type: UnitologyHead
      - type: AutoImplant
        implants:
        - StorageImplant
        - DnaScramblerImplant
        - FreedomImplant
      - type: NpcFactionMember
        factions:
        - Necromorfs
      mindRoles:
      - MindRoleHeadUnitology
      blacklist:
        components:
          - ImmunitetInfectionDead
          - ImmunNecroobelisk
        requireAll: false
    - prefRoles: [ Uni ]
      fallbackRoles: [ UniHead, UniEnslaved ]
      max: 0
      min: 0
      playerRatio: 15
      briefing:
        text: uni-role-greeting
        color: CornflowerBlue
        sound: "/Audio/_DeadSpace/Necromorfs/unitolog_start.ogg"
      components:
      - type: IntrinsicRadioTransmitter
        channels:
        - Unitolog
      - type: ActiveRadio
        channels:
        - Unitolog
      - type: IntrinsicRadioReceiver
      - type: Unitology
      - type: NpcFactionMember
        factions:
        - Necromorfs
      mindRoles:
      - MindRoleUnitology
      blacklist:
        components:
          - ImmunitetInfectionDead
          - ImmunNecroobelisk
        requireAll: false
    - prefRoles: [ UniEnslaved ]
      fallbackRoles: [ UniHead, Uni ]
      max: 0
      min: 0
      briefing:
        text: uni-enslaved-role-greeting
        color: CornflowerBlue
        sound: "/Audio/_DeadSpace/Necromorfs/unitolog_start.ogg"
      components:
      - type: IntrinsicRadioTransmitter
        channels:
        - Unitolog
      - type: ActiveRadio
        channels:
        - Unitolog
      - type: IntrinsicRadioReceiver
      - type: Unitology
      mindRoles:
      - MindRoleEnslavedUnitology
      blacklist:
        components:
          - ImmunitetInfectionDead
          - ImmunNecroobelisk
        requireAll: false

- type: entity
  id: GiftsNecroobeliskArtefact
  parent: CargoGiftsBase
  components:
  - type: StationEvent
    weight: 0
    duration: 1h
    earliestStart: 1
    minimumPlayers: 20
    reoccurrenceDelay: 360
  - type: CargoGiftsRule
    announce: uni-ops-cargo-gifts-obelisk-event-announcement
    sender: cargo-gift-default-sender
    description: uni-ops-gift-obelisk-description
    gifts:
      ArtifactContainerNecroobelisk: 1

- type: entity
  id: GiftNecroobeliskArtefact
  parent: BaseGameRule
  components:
  - type: NecroobeliskArtefactRule
